%% Class diagram â€” Dashboard: Orders-focused (recreated)
%% Generated: 2025-11-07
%% Purpose: Focused view for order management and realtime flow under lib/dashboard

classDiagram

    class RestaurantDashboardV2 {
        + String restaurantId
        + String restaurantName
        + build(context)
    }

    class OrdersManagementScreen {
        + int restaurantId
        + _loadOrders()
        + _setupRealtimeSubscription()
        + _showOrderDetails(order)
        + _confirmOrder(orderId)
        + _startPreparing(orderId)
        + _markAsReady(orderId)
        + _cancelOrder(orderId)
    }

    class OrdersTab {
        + _loadOrders()
        + _buildOrderCard(order)
        + _confirmOrder(orderId)
        + _rejectOrder(orderId)
    }

    class RealtimeChannel {
        + subscribe(channel)
        + onChange(callback)
        + unsubscribe()
    }

    class SupabaseService {
        + getRestaurantOrders(restaurantId)
        + setupOrdersRealtimeSubscription(restaurantId, callback)
        + updateOrderStatus(orderId, status)
        + cancelOrder(orderId, reason)
    }

    %% Cross-file note:
    %% - Uses SupabaseService methods defined in `class_diagram_services_models.mmd` (getRestaurantOrders, updateOrderStatus, etc.)
