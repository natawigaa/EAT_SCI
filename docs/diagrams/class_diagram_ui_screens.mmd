%% Class diagram â€” UI Screens (high-level)
%% Generated: 2025-11-07
%% Purpose: Top-level app screens and navigation; include only variables/methods that drive behavior.

classDiagram

    class HomeScreen {
        + TextEditingController _searchController
        + List<Map<String,dynamic>> restaurants
        + List<Map<String,dynamic>> filteredRestaurants
        + String selectedCategory
        + Future<void> _loadRestaurants()
        + void _filterRestaurants(String query)
        + void openRestaurant(String restaurantId)
    }

    class DetailRestaurantScreen {
        + String restaurantId
        + String restaurantName
        + List<MenuItem> menuItems
        + bool isLoadingMenu
        + Future<void> _loadMenuItems()
        + void addToCart(Map menuItem)
    }

    class FoodOrderScreen {
        + CartService cart
        + List<Map<String,dynamic>> cartItems
        + double totalAmount
        + int totalItems
        + void _increaseQuantity(int index)
        + void _decreaseQuantity(int index)
        + void checkout()
    }

    class PaymentScreen {
        + double totalAmount
        + int itemCount
        + int restaurantId
        + String restaurantName
        + Future<void> confirmPayment()
        + Future<void> _pickSlipImage()
        + Future<void> _uploadSlip()
    }

    class ProfileScreen {
        + Future<void> loadProfile()
        + Future<void> updateProfile()
    }

    class HistoryScreen {
        + String studentId
        + List<Order> _readyOrders
        + List<Order> _completedOrders
        + Future<void> _loadOrders()
        + Future<void> _confirmPickup(int orderId)
    }

    class OrderStatusScreen {
        + int orderId
        + TabController _tabController
        + List<Map<String,dynamic>> orders
        + Future<void> getOrdersByStatus(String status)
        + Future<void> _cancelOrder(int orderId)
    }

    %% Navigation relations (high-level)
    HomeScreen --> DetailRestaurantScreen : open restaurant
    DetailRestaurantScreen --> FoodOrderScreen : add to cart -> open cart
    FoodOrderScreen --> PaymentScreen : checkout -> payment
    HomeScreen --> ProfileScreen : profile action
    HomeScreen --> HistoryScreen : open history

%% Cross-file note:
%% - Classes here call `SupabaseService` and `CartService` (see `class_diagram_services_models.mmd`).
