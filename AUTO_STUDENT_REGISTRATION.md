# üéì Auto Student Registration - Science Faculty Only

## üåü ‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏Å (Simplified for Science Faculty)

### ‚úÖ **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:**
- **‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤** ‚Üí ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏•‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (65070001@kmitl.ac.th ‚Üí 65070001)
- **‡∏≠‡∏µ‡πÄ‡∏°‡∏•** ‚Üí ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å auth.users
- **‡∏ä‡∏±‡πâ‡∏ô‡∏õ‡∏µ** ‚Üí ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤ (65 = ‡∏õ‡∏µ 2565 ‚Üí ‡∏õ‡∏µ‡∏Å‡∏≤‡∏£‡∏®‡∏∂‡∏Å‡∏©‡∏≤ 2568 ‡∏Ñ‡∏∑‡∏≠‡∏õ‡∏µ 3)
- **‡∏Ñ‡∏ì‡∏∞** ‚Üí ‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå" (‡πÅ‡∏≠‡∏õ‡∏ô‡∏µ‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏ì‡∏∞‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô)

### üìù **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏Å‡∏£‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏´‡∏ô‡πâ‡∏≤ SignUp:**
1. **‡∏≠‡∏µ‡πÄ‡∏°‡∏• KMITL** (xxxxxxxx@kmitl.ac.th) - ‡πÉ‡∏ä‡πâ login
2. **‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô** (‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 6 ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£)
3. **‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ** (username) - ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏Ñ‡πâ‡∏≤
4. **‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå** (phone_number) - ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå

### üé® **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö):**
- ‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏£‡∏¥‡∏á (first_name)
- ‡∏ô‡∏≤‡∏°‡∏™‡∏Å‡∏∏‡∏• (last_name)
- ‡∏£‡∏π‡∏õ‡πÇ‡∏õ‡∏£‡πÑ‡∏ü‡∏•‡πå (profile_image_url)

### ‚ö†Ô∏è **‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πá‡∏ö:**
- **‡∏™‡∏≤‡∏Ç‡∏≤‡∏ß‡∏¥‡∏ä‡∏≤** (department) - ‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£

---

## üîÑ Flow ‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (Simplified)

```
1. ‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° "‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏™‡∏°‡∏≤‡∏ä‡∏¥‡∏Å" ‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤ Login
   ‚Üì
2. ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤ SignUp (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç):
   - ‡∏≠‡∏µ‡πÄ‡∏°‡∏•: 65070001@kmitl.ac.th
   - ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô: ******
   - ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ: somchai_k
   - ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£: 081-234-5678
   ‚Üì
3. Supabase Auth ‡∏™‡∏£‡πâ‡∏≤‡∏á user ‡πÉ‡∏ô auth.users
   ‚Üì
4. Database Trigger ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥:
   - ‡πÅ‡∏¢‡∏Å student_id = "65070001"
   - ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì year = 3 (‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™ 65 = ‡∏õ‡∏µ 2565)
   - ‡∏ï‡∏±‡πâ‡∏á faculty = "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå" (‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß)
   - ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô students table
   ‚Üì
5. Flutter ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡∏Å‡∏£‡∏≠‡∏Å:
   - username, phone_number
   - profile_completed = TRUE (‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ username + phone)
   ‚Üì
6. ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏≠‡∏õ‡∏´‡∏•‡∏±‡∏Å (RootScreen) ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ
```

---

## üìä Database Schema (Simplified)

### **Table: students**

```sql
CREATE TABLE students (
  id UUID PRIMARY KEY REFERENCES auth.users(id) ON DELETE CASCADE,
  student_id VARCHAR(8) UNIQUE NOT NULL,      -- ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å‡∏≠‡∏µ‡πÄ‡∏°‡∏• (65070001)
  username VARCHAR(50) UNIQUE NOT NULL,       -- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å
  first_name VARCHAR(100),                    -- ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö
  last_name VARCHAR(100),                     -- ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö
  email VARCHAR(255) UNIQUE NOT NULL,         -- ‡∏î‡∏∂‡∏á‡∏à‡∏≤‡∏Å auth.users
  phone_number VARCHAR(20) NOT NULL,          -- ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å
  faculty VARCHAR(200) DEFAULT '‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå', -- ‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å)
  year INTEGER CHECK (year BETWEEN 1 AND 5),  -- ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏à‡∏≤‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤
  profile_image_url TEXT,                     -- ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö
  profile_completed BOOLEAN DEFAULT FALSE,    -- TRUE ‡∏ñ‡πâ‡∏≤‡∏Å‡∏£‡∏≠‡∏Å username + phone
  created_at TIMESTAMPTZ DEFAULT NOW(),
  updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:**
- **‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ü‡∏¥‡∏•‡∏î‡πå department** (‡πÑ‡∏°‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≤‡∏Ç‡∏≤)
- **faculty ‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß** = "‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå" (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)
- **profile_completed ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ 2 ‡∏ü‡∏¥‡∏•‡∏î‡πå**: username ‡πÅ‡∏•‡∏∞ phone_number

---

## ‚ú® ‡∏™‡∏£‡∏∏‡∏õ

### ‡∏Å‡πà‡∏≠‡∏ô (‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏¥‡∏°):
```
‡∏Å‡∏£‡∏≠‡∏Å: ‡∏≠‡∏µ‡πÄ‡∏°‡∏•, ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô, username, phone, ‡∏Ñ‡∏ì‡∏∞ (dropdown), ‡∏™‡∏≤‡∏Ç‡∏≤ (dropdown)
‚Üí 6 ‡∏ü‡∏¥‡∏•‡∏î‡πå
‚Üí ‡∏ï‡πâ‡∏≠‡∏á load master data
‚Üí ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
```

### ‡∏´‡∏•‡∏±‡∏á (‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡∏°‡πà):
```
‡∏Å‡∏£‡∏≠‡∏Å: ‡∏≠‡∏µ‡πÄ‡∏°‡∏•, ‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô, username, phone
‚Üí 4 ‡∏ü‡∏¥‡∏•‡∏î‡πå
‚Üí ‡∏Ñ‡∏ì‡∏∞ = ‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
‚Üí ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏≤‡∏Ç‡∏≤
‚Üí ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏á‡πà‡∏≤‡∏¢ ‚ú®
```

---

**Updated:** 2024-12-21  
**Version:** 3.0 - Simplified for Science Faculty Only
